<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<style>
		html{
			height: 100%;
		}
		@font-face{
			src:url(18473.ttf);
			font-family: my-font;
		}
		body{
			font-family: my-font;
			color: white;
			height: 100%;
		}
		/*главная*/
		.school{
			position: absolute;
			top:20%;
			left: 70%
		}
		.mastery{
			top:60%;
			position: absolute;
			left:40%;
		}
		.main_player{
			position: absolute;
			top:50%;
			left: 50%;
			transition:  0.8s;
		}
		.arena{
			position: absolute;
			top:20%;
			left: 30%;
		}
		/*3 локация*/
		.loc3_hp{
			height: 40px;
			
			
		}
		.loc3_enemy{
			position: absolute;
			top:60%;
			left: 35%

		}
		.loc3_player{
			position: absolute;
			top:60%;
			left: 55%;
			display: flex;
		}
		.loc3_sword{
			
			width: 80px;
		}
		.loc3_hit{
			
			width: 50px;
			
		}

		/*2 локация*/
		.loc2_teacher {
			height: 100px;
			width: 80px;
			left: 55%; 
			position: absolute; 
			top: 30%;
			background-image: url(loc2/female_stand.png);
			background-size: 100% 100%;
			display: block;
		}
		.loc2_talk {
			position: absolute;
			width: 300px;
			margin-left: 56%;
			display: none
		}

		.loc2_pravilno{
			background-color: gray; width: 100px; position: absolute; display: none
		}

		.loc2_player {
			margin-left: 28%; margin-top: 26%; position: absolute;
		}

		.loc2_shpors {
			background-color: gray; width: 100px; position: absolute; display: none;
		}

		.loc2_talkText {
			position: absolute;
			width: 200px;
			margin-left: 60%;
			margin-top: 4%;
			display: none;
			color: black
		}
		.loc2_timeSize {
		font-size: 30px
		}
		.loc2_pole {
			margin-top: 25%;
			position: absolute;
		}
		/*1 локация*/
			.loc1_kuznec {
			height: 110px;
			width: 80px;
			position: absolute;
			left: 35%;
			top: 70%;
			background-image: url(loc1/kuznec.png);
			background-size: 100% 100%;
		}
		/* плеер */
		.loc1_player {
			height: 110px;
			width: 80px;
			position: absolute;
			left: 45%;
			top: 70%;
			background-image: url(loc1/player.png);
			background-size: 100% 100%;
		}
		/* наковальня */
		.loc1_nakovalya {
			height: 60px;
			width: 100px;
			position: absolute;
			left: 55%;
			top: 75%;
			background-image: url(loc1/nakovalya.png);
			background-size: 100% 100%;
		}
		/* меч */
		.loc1_mech {
			height: 100px;
			width: 60px;
			position: absolute;
			left: 48%;
			top: 70%;
			background-image: url(loc1/mech.png);
			background-size: 100% 100%;
		}
		/* сообщение */
		.loc1_message {
			display: none;
			height: 250px;
			width: 250px;
			position: absolute;
			left: 35%;
			top: 35%;
			background-image: url(loc1/talk.png);
			background-size: 100% 100%;
			color: black;
			font-size: 13px;
			padding-top: 75px;
			padding-left: 35px;
			padding-right: 30px;
		}
		.sword {
			width: 130px; border: white 2px solid; display: none
		}

		.nojni {
			width: 130px; border: white 2px solid; display: none
		}
		.shield {
			width: 130px; border: white 2px solid; display: none
		}
	</style>
</head>
<body style="background-image:url(bg1.png); background-size: cover">
	<div class="main">
		<div class="sword">
			<img src="sword.png">
		</div>
		<div class="nojni">
			<img src="nojni.png">
		</div>
		<div class="shield">
			<img src="shield.png">
		</div>
		
		<div  class="school">
			<img src="school.png" alt="">
		</div>
		<div  class="mastery"> 
			<img src="masterskaya.png" alt="">
		</div>
		<div  class="arena"> 
			<img src="arena.png" alt="">
		</div>
		<img src="player.png" alt="" class="main_player">
	</div>
	
	<div class="location3" style="display: none">
		<div class="loc3_enemy">
			<h1 class="loc3_enemy_h1"></h1>
			<div class="loc3_enemy_hp loc3_hp bg-success rounded border"></div>
			<img src="loc3/enemy.png" alt="">
		</div>
		
		<div class="loc3_player">
			<div>
				<h1 class="loc3_player_h1"></h1>
				<div class="loc3_player_hp loc3_hp bg-success rounded border"></div>
				<img src="loc3/player.png">
			</div>		
			<div class="bg-warning rounded">
				<p class="mt-2">Нанеси урон</p>
				<img src="loc3/sword.png" alt="" class="loc3_sword">
				<img src="loc3/kulak.png" alt="" class="loc3_hit">
			</div>
								
		</div>
	</div>
	<div class="location2" style="display: none">
		<h6 class="text-light loc2_timeSize">Время: <span class="loc2_timeText ">10</span></h6>

		<div class="mx-auto col-3 ">
			<img src="Loc2/doska.png" style="position: absolute; width: 300px" >
			<h4 class="p-2 pl-4 text-white" style="position: absolute; width: 300px">Что нужно чтобы выковать меч?</h4>
		</div>
		<div class="loc2_teacher"></div>


			<div style="position: absolute; margin-top: 17%; margin-left: 25%">
				<img src="Loc2/stol.png" style="width: 200px; position: absolute;">
				<img src="Loc2/stol.png" style="width: 200px; position: absolute; margin-left: 220px">
				<img src="Loc2/stol.png" style="width: 200px; position: absolute; margin-left: 440px">
				<img src="Loc2/stol.png" style="width: 200px; position: absolute; margin-left: 660px">			
			</div>
			<div style="position: absolute; margin-top: 25%; margin-left: 25%">
				<img src="Loc2/stol.png" style="width: 200px; position: absolute;">
				<img src="Loc2/stol.png" style="width: 200px; position: absolute;margin-left: 220px">
				<img src="Loc2/stol.png" style="width: 200px; position: absolute;margin-left: 440px">
				<img src="Loc2/stol.png" style="width: 200px; position: absolute;margin-left: 660px">			
			</div>
		<div class="loc2_ques" style="margin-left: 2%; position: absolute;  margin-top: 25%;">
			 
			 
		 </div>
		<div  style="display: flex; position: absolute; margin-top: 30%; margin-left: 2%">
			 <div class="loc2_shpors">Шпора 1: Мясо</div>
			 <div class="loc2_shpors" style="margin-left: 150px;">Шпора 2: Серебро</div>
			 <div class="loc2_shpors" style="margin-left: 300px; ">Шпора 3: Алмаз</div>
			 <div class="loc2_shpors" style="margin-top: 140px; ">Шпора 4: Золото</div>
			 <div class="loc2_shpors" style="margin-top: 140px; margin-left: 150px;">Шпора 5: Олово</div>
			 <div class="loc2_pravilno" style="margin-top: 140px; margin-left: 300px;">Шпора 6: Железная руда</div>
		</div>


		<img src="Loc2/player_fall.png" class="loc2_player">

		<img src="Loc2/talk.png" class="loc2_talk">
		<h5 class="loc2_talkText" >Ответь на вопрос который на доске. У тебя мало времени</h5>

	</div>
	<div class="location1" style="display: none">	
		
		<!-- комната -->
		<div class="loc1_game1">
			<!-- спан для времени -->
			<h4>Время: <span class="loc1_timeTxt"></span></h4>
			<!-- спан для счета -->
			<h4>Счёт: <span class="loc1_scoreTxt"></span></h4>
			<!-- кузнец -->
			<div class="loc1_kuznec">	
			</div>
			<!-- наковальня -->
			<div class="loc1_nakovalya">	
			</div>
			<!-- плеер -->
			<div class="loc1_player">	
			</div>
			<!-- сообщение -->
			<div class="loc1_message">
			</div>
		</div>
	</div>
    <script type="text/javascript">
    	//картинка с мечом
    	let sword = document.querySelector('.sword');
    	//картинка с щитом
    	let shield = document.querySelector('.shield');
    	//картинка с ножны
    	let nojni = document.querySelector('.nojni');
    	//картинка с мастерской
    	let mastery = document.querySelector('.mastery');
    	//сообщение
    	let loc1_message = document.querySelector('.loc1_message');
    	//таймер 1 локации
    	let loc1_timeTxt = document.querySelector('.loc1_timeTxt');
    	//счет 1 локации
    	let loc1_scoreTxt = document.querySelector('.loc1_scoreTxt');
    	//наковальня
    	let loc1_nakovalya = document.querySelector('.loc1_nakovalya');
    	//главная
    	let main_block = document.querySelector('.main');
    	//1 локация 
    	let location1 = document.querySelector('.location1');
    	//2 локация 
    	let location2 = document.querySelector('.location2');
    	//3 локация 
    	let location3 = document.querySelector('.location3');
    	//body
    	let body = document.querySelector('body');
        //player
        let main_player = document.querySelector('.main_player');
        //школа
        let school = document.querySelector('.school');
        //арена
        let arena = document.querySelector('.arena');
        //2 арена сообщение
        let loc2_talk = document.querySelector('.loc2_talk');
         //2 арена сообщение
        let loc2_talkText = document.querySelector('.loc2_talkText');
        //учительница
        let loc2_teacher = document.querySelector('.loc2_teacher ');
        //шпоры
        let loc2_shpors = document.querySelectorAll('.loc2_shpors');
        //время 2 локации 
        let loc2_timeText = document.querySelector('.loc2_timeText');
        //шпора правильная 
        let loc2_pravilno = document.querySelector('.loc2_pravilno');
        //противник
        let loc3_enemy = document.querySelector('.loc3_enemy');
        //игрок 
        let loc3_player = document.querySelector('.loc3_player');
        //имена
        let loc3_enemy_h1 = document.querySelector('.loc3_enemy_h1');
        let loc3_player_h1 = document.querySelector('.loc3_player_h1');
        //hp
        let loc3_enemy_hp = document.querySelector('.loc3_enemy_hp');
        let loc3_player_hp = document.querySelector('.loc3_player_hp');
        //меч
        let loc3_sword = document.querySelector('.loc3_sword');
        //кулак
        let loc3_hit = document.querySelector('.loc3_hit');
        //счетчик времени
        let time = 10;
        //счетчик времени
        let time2 = 10;
        //счет
        let score1 = 0;
        let swordNum = 0;
        let shieldNum = 0;
        let nojniNum = 0;
    	//клик на картинку мастерской
    	mastery.onclick = function(){
    		//меняем позицию игрока
            main_player.style.top = '65%';
            main_player.style.left = '43%';
            let changeLocation1 = function(){
	    		//скрываем main
	            main_block.style.display = 'none';
	            //открываем 1 локацию
	            location1.style.display = 'block';
	            //меняем фон у body
	            body.style.backgroundImage = 'url(loc1/bg.png)';
	            let showMessage = function(){
		    		loc1_message.style.display = 'block';
		    		loc1_message.innerHTML = 'Успей кликнуть 20 раз за 10 секунд по наковальне, чтобы создать меч.';
		    		let Timer = function(){
	                    time = time - 1;
                        loc1_timeTxt.innerHTML = time;
                        loc1_nakovalya.onclick = function(){
                            score1 = score1 + 1;
                            loc1_scoreTxt.innerHTML = score1;
                            if(score1 >=20 && time > 0){
                            	alert('Ты создал меч');
                            	let box = document.createElement('div');
                            	location1.appendChild(box);
                            	box.classList.add('loc1_mech');
                            	clearInterval(stop1);
                            	swordNum = swordNum + 1;
                            	if(swordNum == 1){
                            		sword.style.display = 'block';
                            	}
                                let openMain = function(){
                                	//открываем main
						            main_block.style.display = 'block';
						            //скрываем location1
						            location1.style.display = 'none';
						            //меняем фон у body
						            body.style.backgroundImage = 'url(bg1.png)';
						            //
						            loc1_mech.style.display = 'none';
                                }
                                setTimeout(openMain, 1500);
                                let finish = function(){
                                	if(swordNum == 1 && nojniNum == 1 && shieldNum == 1){
                                		body.style.backgroundImage = 'url(win.png)';
                                		main_block.style.display = 'none';
                                	}
                                }
                                setTimeout(finish, 3500);
                            }
                        }
                        if(time == 0){
                        	alert('Время вышло');
                        	clearInterval(stop1);
                        	let openMain = function(){
                                //открываем main
						        main_block.style.display = 'block';
						        //скрываем location1
						        location1.style.display = 'none';
						        //меняем фон у body
						        body.style.backgroundImage = 'url(bg1.png)';
                            }
                            setTimeout(openMain, 1500);
                        }
			    	}
			    	let stop1 = setInterval(Timer, 1000);
		    	}
		    	setTimeout(showMessage, 3000);
	    	}
	    	setTimeout(changeLocation1, 2000);
    	}
        //клик на школу
        school.onclick = function(){
        	//меняем позицию игрока
            main_player.style.top = '35%';
            main_player.style.left = '71%';
            let changeLocation2 = function(){
            	//скрываем main
	            main_block.style.display = 'none';
	            //открываем 2 локацию
	            location2.style.display = 'block';
	            //удаляем фон у body
	            body.style.background = 'green';
	            let showMessage = function(){
	            	loc2_talk.style.display = 'block';
	            	loc2_talkText.style.display = 'block';
		            	let showShpors = function(){
		            	alert('У тебя есть 10 секунд! Cмотри шпоры, пока учительница не смотрит');
	                    for(let i = 0; i < 5; i++){
	                    	loc2_shpors[i].style.display = 'block';
	                    }
	                    loc2_pravilno.style.display = 'block';
	                    loc2_talk.style.display = 'none';
	                    loc2_talkText.style.display = 'none';
	                    loc2_teacher.style.backgroundImage = 'url(loc2/female_back.png)';
	                    let Timer = function(){
	                        time2 = time2 - 1;
	                        loc2_timeText.innerHTML = time2;
	                        loc2_pravilno.onclick = function(){
	                        	alert('Молодец!');
	                        	clearInterval(stop2);
	                            nojniNum = nojniNum + 1;
                            	if(nojniNum == 1){
                            		nojni.style.display = 'block';
                            		let openMain = function(){
		                                //открываем main
								        main_block.style.display = 'block';
								        //скрываем location2
								        location2.style.display = 'none';
								        //меняем фон у body
								        body.style.backgroundImage = 'url(bg1.png)';
		                            }
		                            setTimeout(openMain, 1500);
		                            let finish = function(){
	                                	if(swordNum == 1 && nojniNum == 1 && shieldNum == 1){
	                                		body.style.backgroundImage = 'url(win.png)';
	                                		main_block.style.display = 'none';
	                                	}
	                                }
	                                setTimeout(finish, 3500);
                            	}
	                        }
	                        for(let i = 0; i < 5; i++){
		                    	loc2_shpors[i].onclick = function(){
		                    		alert('Это неправильная шпора');
		                    		clearInterval(stop2);
		                    		let openMain = function(){
		                                //открываем main
								        main_block.style.display = 'block';
								        //скрываем location2
								        location2.style.display = 'none';
								        //меняем фон у body
								        body.style.backgroundImage = 'url(bg1.png)';
		                            }
		                            setTimeout(openMain, 1500);
		                    	}
		                    }
		                    if(time2 == 0){
	                        	alert('Время вышло');
	                        	clearInterval(stop2);
	                        	let openMain = function(){
		                            //открываем main
								    main_block.style.display = 'block';
								    //скрываем location2
								    location2.style.display = 'none';
								    //меняем фон у body
								    body.style.backgroundImage = 'url(bg1.png)';
		                        }
		                        setTimeout(openMain, 1500);
	                        }
	                    }
	                    let stop2 = setInterval(Timer, 1000);

		            }
		            setTimeout(showShpors, 4000);
		            }
	            setTimeout(showMessage, 2000);

            }
            setTimeout(changeLocation2, 2000);
        }
        //клик на арену
        arena.onclick = function(){
    		//меняем позицию игрока
            main_player.style.top = '25%';
            main_player.style.left = '35%';
            let changeLocation3 = function(){
	    		//скрываем main
	            main_block.style.display = 'none';
	            //открываем 1 локацию
	            location3.style.display = 'block';
	            //меняем фон у body
	            body.style.backgroundImage = 'url(loc3/arena.png)';
	            //рандом
		        let getRandom = function() {
		        	let rand = Math.round(Math.random() * 200);
		        	return rand;
		        }
		        //рандом для карточек
		        let getRandDmg = function() {
		        	let dmg = Math.round(Math.random() * 20);
		        	return dmg;
		        }
	            //player
	            let loc3_player = {
	            	 hp: 100, 
	            	 damageSword: 10, 
	            	 hit: 5, 
	            	 name:"Игрок"
	            }
	            //enemy
	            let loc3_enemy = {
	            	hp: getRandom(), 
	            	damage: getRandDmg(), 
	            	name:"Враг"
	            }
	            loc3_player_h1.innerHTML = loc3_player.name;
	            loc3_enemy_h1.innerHTML = loc3_enemy.name;
                loc3_player_hp.style.width = loc3_player.hp + 'px';
                loc3_player_hp.innerHTML = loc3_player.hp;
                loc3_enemy_hp.style.width = loc3_enemy.hp + 'px';
                loc3_enemy_hp.innerHTML = loc3_enemy.hp;
                loc3_sword.onclick = function(){
                	loc3_enemy.hp = loc3_enemy.hp - loc3_player.damageSword;
                	loc3_enemy_hp.style.width = loc3_enemy.hp + 'px';
                	loc3_enemy_hp.innerHTML = loc3_enemy.hp;
                	let attackEnemy = function(){
                		loc3_player.hp = loc3_player.hp - loc3_enemy.damage;
                		loc3_player_hp.style.width = loc3_player.hp + 'px';
                		loc3_player_hp.innerHTML = loc3_player.hp;
                	}
                	setTimeout(attackEnemy, 500);
                	if(loc3_player.hp <= 0){
                		alert('Враг победил');
                		let openMain = function(){
			                //открываем main
							main_block.style.display = 'block';
							//скрываем location3
							location3.style.display = 'none';
							//меняем фон у body
							body.style.backgroundImage = 'url(bg1.png)';
		                }
		                setTimeout(openMain, 1500);
                	}
                	if(loc3_enemy.hp <= 0){
                		alert('Игрок победил');
                		shieldNum = shieldNum + 1;
                        if(shieldNum == 1){
                            shield.style.display = 'block';
                        }
                        let openMain = function(){
			                //открываем main
							main_block.style.display = 'block';
							//скрываем location3
							location3.style.display = 'none';
							//меняем фон у body
							body.style.backgroundImage = 'url(bg1.png)';
		                }
		                setTimeout(openMain, 1500);
		                let finish = function(){
	                        if(swordNum == 1 && nojniNum == 1 && shieldNum == 1){
	                            body.style.backgroundImage = 'url(win.png)';
	                            main_block.style.display = 'none';
	                        }
	                    }
	                    setTimeout(finish, 3500);
                	}
                }
                loc3_hit.onclick = function(){
                    loc3_enemy.hp = loc3_enemy.hp - loc3_player.hit;
                	loc3_enemy_hp.style.width = loc3_enemy.hp + 'px';
                	loc3_enemy_hp.innerHTML = loc3_enemy.hp;
                	let attackEnemy = function(){
                		loc3_player.hp = loc3_player.hp - loc3_enemy.damage;
                		loc3_player_hp.style.width = loc3_player.hp + 'px';
                		loc3_player_hp.innerHTML = loc3_player.hp;
                	}
                	setTimeout(attackEnemy, 500);
                	if(loc3_player.hp <= 0){
                		alert('Враг победил');
                		let openMain = function(){
			                //открываем main
							main_block.style.display = 'block';
							//скрываем location3
							location3.style.display = 'none';
							//меняем фон у body
							body.style.backgroundImage = 'url(bg1.png)';
		                }
		                setTimeout(openMain, 1500);
                	}
                	if(loc3_enemy.hp <= 0){
                		alert('Игрок победил');
                		shieldNum = shieldNum + 1;
                        if(shieldNum == 1){
                            shield.style.display = 'block';
                        }
                        let openMain = function(){
			                //открываем main
							main_block.style.display = 'block';
							//скрываем location3
							location3.style.display = 'none';
							//меняем фон у body
							body.style.backgroundImage = 'url(bg1.png)';
		                }
		                setTimeout(openMain, 1500);
		                let finish = function(){
	                        if(swordNum == 1 && nojniNum == 1 && shieldNum == 1){
	                            body.style.backgroundImage = 'url(win.png)';
	                            main_block.style.display = 'none';
	                        }
	                    }
	                    setTimeout(finish, 3500);
                	}
                }
	    	}
	    	setTimeout(changeLocation3, 2000);
    	}
    </script>
</body>
</html>